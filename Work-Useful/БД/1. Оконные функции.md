## Определения

**Окно -** временной отрезок, полуинтервал - [t_start, t_end), где ****t_start - начало окна и t_end - конец окна.

**Оконная функция** - функция, принимающая в качестве аргументов источники (теги), метки времени значений которых попадают в окно, на котором она рассчитывается.

На данный момент источники - числовые теги. Для описания преобразования значений источников в результат оконной функции используется скриптовый язык.

**Результат оконной функции** - значение тега, временная метка которого совпадает с временной меткой t_start.

Значения оконных функций хранятся в отдельной таблице метрик в Clickhouse. Таблица содержит столбец, в который каждая оконная функция записывает время последнего вычисления.

**Метрика** - группа оконных функций.

**Сплиттер** - группа функций, в которой каждая функция имеет направление и возвращает несколько значений в окне. Окно, в котором располагаются метки времени значений сплиттера, зависит от направления сплиттера. Если сплиттер с направлением вперед, то значение, получаемое от источника на начало окна (метка времени попадает в окно), преобразуется в n значений с метками времени внутри окна. Если сплиттер назад, то значение, получаемое от источника на конец окна (метка времени не попадает в окно), преобразуется в n значений с метками времени внутри предыдущего окна.

**Граф вычисления оконных функций** - однонаправленное дерево.

