Рассмотрим эталонную модель, использовавшуюся в компьютерной сети `ARPANET`, которая была исследовательской сетью, финансируемой Министерством обороны США. В конце концов, она объединила сотни университетов и правительственных зданий при помощи выделенных телефонных линий. Когда впоследствии появились спутниковые сети и радиосети, возникли большие проблемы при объединении с ними других сетей с помощью имеющихся протоколов. Понадобилась новая эталонная архитектура. Таким образом, возможность объединять различные сети в единое целое являлась одной из главных целей с самого начала. Позднее эта архитектура получила название эталонной модели `TCP/IP`, в соответствии со своими двумя основными протоколами. 

Поскольку Министерство обороны США беспокоилось, что ценные хосты, маршрутизаторы и межсетевые шлюзы могут быть мгновенно уничтожены, была поставлена задача добиться способности сети сохранять работоспособность при возможных потерях подсетевого оборудования, так чтобы при этом связь не прерывалась. Другими словами, Министерство обороны США требовало, чтобы соединение не прерывалось, пока функционируют приемная и передающая машины, даже если некоторые промежуточные машины или линии связи внезапно вышли из строя. Кроме того, от архитектуры нужна была определенная гибкость, поскольку предполагалось использовать приложения с различными требованиями, от переноса файлов до передачи речи в реальном времени. 

![[TCPIP.png]]

### Канальный уровень 

Все эти требования привели к выбору сети с пакетной коммутацией, основанной на уровне без установления соединения, который работает в различных сетях. Самый низкий уровень в модели, уровень канала, описывает то, как и что каналы, такие как последовательные линии и классический `Ethernet`, должны сделать, чтобы удовлетворить потребности этого межсетевого уровня без установления соединения. Это на самом деле не уровень вообще, в нормальном смысле слова, а скорее интерфейс между каналами передачи и узлами. В ранних материалах о модели `TCP/IP` мало что об этом говорится. 

### Межсетевой уровень 

Все эти требования обусловили выбор модели сети с коммутацией пакетов, в основе которой лежал не имеющий соединений межсетевой уровень. Он примерно соответствует сетевому уровню в [[Эталонная модель OSI |OSI]]. Этот уровень, называемый интернет-уровнем или межсетевым уровнем, является основой всей архитектуры. Его задача заключается в обеспечении возможности каждого хоста посылать пакеты в любую сеть и независимо двигаться к пункту назначения (например, в другой сети). Они могут прибывать совершенно в другом порядке, чем были отправлены. Если требуется соблюдение порядка отправления, эту задачу выполняют более верхние уровни. 

Здесь можно увидеть аналогию с почтовой системой. Человек может бросить несколько международных писем в почтовый ящик в одной стране, и, если повезет, большая часть из них будет доставлена по правильным адресам в других странах. Вероятно, письма по дороге пройдут через несколько международных почтовых шлюзов, однако это останется тайной для корреспондентов. В каждой стране (то есть в каждой сети) могут быть свои марки, свои предпочитаемые размеры конвертов и правила доставки, незаметные для пользователей почтовой службы. Межсетевой уровень определяет официальный формат пакета и протокол `IP`, с дополнительным протоколом `ICMP` (Internet Control Message Protocol). Задачей межсетевого протокола является доставка IP-пакетов к пунктам назначения. Основными аспектами здесь являются выбор маршрута пакета и недопущение закупорки транспортных артерий (хотя `IP` не оказался эффективным для избегания скоплений).

### Транспортный уровень 

Уровень, расположенный над межсетевым уровнем модели `TCP/IP`, как правило, называют транспортным. Он создан для того, чтобы объекты одного ранга на приемных и передающих хостах могли поддерживать связь, подобно транспортному уровню модели [[Эталонная модель OSI |OSI]]. На этом уровне должны быть описаны два сквозных протокола. Первый, [[TCP, UDP|TCP]], является надежным протоколом с установлением соединений, позволяющим без ошибок доставлять байтовый поток с одной машины на любую другую машину объединенной сети. Он разбивает входной поток байтов на отдельные сообщения и передает их межсетевому уровню. На пункте назначения получающий `TCP-процесс` собирает из полученных сообщений выходной поток. Кроме того, [[TCP, UDP|TCP]] осуществляет управление потоком, чтобы быстрый отправитель не завалил информацией медленного получателя. 

Второй протокол этого уровня, [[TCP, UDP|UDP]], является ненадежным протоколом без установления соединения, не использующим последовательное управление потоком протокола [[TCP, UDP|TCP]], а предоставляющим свое собственное. Он также широко используется в одноразовых клиент-серверных запросах и приложениях, в которых оперативность важнее аккуратности, например при передаче речи и видео.

![[Снимок экрана 2024-04-08 164708.png]]
### Прикладной уровень 

В модели `TCP/IP` нет сеансового уровня и уровня представления. В этих уровнях просто не было необходимости, поэтому они не были включены в модель. Вместо этого приложения просто включают все функции сеансов и представления, которые им нужны. Опыт работы с моделью [[Эталонная модель OSI | OSI]] доказал правоту этой точки зрения: большинство приложений мало нуждаются в этих уровнях. 

Над транспортным уровнем располагается прикладной уровень. Он содержит все протоколы высокого уровня. К старым протоколам относятся протокол виртуального терминала (`TELNET`), протокол переноса файлов (`FTP`) и протокол электронной почты (`SMTP`). С годами было добавлено много других протоколов. Некоторые наиболее важные показаны на рисунке выше. Это `DNS` (Domain Name Service — служба имен доменов), позволяющая преобразовывать имена хостов в сетевые, [[HTTP|HTTP]], протокол, используемый для создания страниц на `World Wide Web`, а также `RTP`, протокол для представления мультимедиа в реальном времени, таких как звук или фильмы.